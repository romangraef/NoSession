package gq.malwarefight.nosession.mixin.asm;

import org.objectweb.asm.MethodVisitor;
import org.objectweb.asm.Opcodes;

public class ReplacingMethodVisitor extends MethodVisitor implements Opcodes {

    final String newName;
    final String oldName;
    public ReplacingMethodVisitor(MethodVisitor mv, String oldName, String newName) {
        super(ASM5, mv);
        this.oldName = oldName;
        this.newName = newName;
    }

    public void visitFieldInsn(int opcode, String owner, String name,
                               String desc) {
        owner = owner.replace(oldName, newName);
        super.visitFieldInsn(opcode, owner, name, desc);
    }

}
